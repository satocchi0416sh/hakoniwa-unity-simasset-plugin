# ARアプリ向け箱庭Unityプラグライン

## 目次

- [はじめに](#はじめに)
- [動作環境](#動作環境)
- [設計情報](#設計情報)
- [設定情報](#設定情報)

## はじめに

Unity版の箱庭は、ARアプリを作成するための簡単なライブラリを提供します。この文書では、ライブラリの内容と使用方法について説明します。

## 動作環境

本ライブラリは以下の環境で動作することを確認しています。

- [X] iOS(iPhone/iPad)
- [ ] Android

# 設計情報

## アーキテクチャ

箱庭とAR端末は、UDP通信で接続します(下図)。現時点では、１対１の構成になります。

![スクリーンショット 2024-01-22 9 38 08](https://github.com/toppers/hakoniwa-unity-simasset-plugin/assets/164193/b90f6aa6-31f5-4860-baae-f917e9e6014c)

通信ポート：

* AR端末：`54002` UDPポートで受信します。
* 箱庭は：`54001` UDPポートで受信します。

## 内部構成と通信データ

AR端末と箱庭側で登場するアクターは下図のとおりです。

![スクリーンショット 2024-01-22 9 50 09](https://github.com/toppers/hakoniwa-unity-simasset-plugin/assets/164193/5573f90d-b1c9-4ced-9b55-adc7bda56bf8)

どちらにも Avator と Player が存在しており、AR端末と箱庭側とで対の関係になっています。
それぞれの役割は以下のとおりです。

* Player
  * 自律的に移動するアクターです。
  * 箱庭側のPlayerの例としては、仮想ロボットなどです。
  * AR端末側のPlayerの例としては、AR端末そのものになります。
* Avator
  * Playerの分身であり、Playerの動きに追従して動きます。
  * 箱庭側のAvatorの例としては、AR端末のアバターがあります。他にもAR端末内で自律的に動作するPlayerがいる場合は、それらも対象となります。
  * AR端末側のAvatorの例としては、箱庭側に存在する仮想ロボットなどです。

## 通信データ

AR端末と箱庭の間でやり取りする通信データは、Playerの位置と姿勢情報です。

* position(x, y, z)：Unity座標系での位置
* rotation(x, y, z)：Unity座標系での姿勢

通信データの送信周期は、Unityの`Fixed Timestep`です。

## 内部クラス

ライブラリを構成する主な内部クラスの一覧と、それらの責務や相互関係について説明します。

# 設定情報

このセクションでは、ライブラリの設定方法について詳細を提供します。初期設定、カスタマイズ可能なオプション、およびそれらの影響について説明します。
